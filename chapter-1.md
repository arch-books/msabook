# Глава 1: Что же такое микросервисы?

В этой главе мы попытаемся разобраться в том, что такое микросервисная архитектура, какие преимущества она дает и о том, как и на основании чего стоит принимать решение о декомпозиции приложения на несколько отдельных deployment-unit

## Определение

Виктор только что вернулся из командировки, в рамках которой он побывал на таких конференциях, как Highload и DDD Europe, на которых докладчики часто говорили о микросервисах, описывая их преимущества. Виктора заинтересовала эта тема, однако, как и многие хорошие архитекторы, он решил разобраться в ней подробнее. Он начал изучать тему, просматривая множество докладов и изучая классическую литературу, вроде книг [Сэма Ньюмена]() и [Криса Ричардсона](). По результатам своих исследований, Виктор пришел к выводу, что во многих источниках описываются следующие преимущества микросервисной архитектуры

- Она упрощает поставку ценности (деплой) в крупных приложениях.
- Сервисы получаются небольшими и простыми в обслуживании, с лучшей изоляцией от сбоев.
- Сервисы развертываются и масштабируются независимо друг от друга.
- Микросервисная архитектура обеспечивает автономность команд разработчиков.
- Она позволяет экспериментировать и внедрять новые технологии.

Так же он заметил, что к недостаткам монолитной архитектуры обычно относят следующие утверждения

- Медленная разработка
- Сложная поставка ценности клиентам (долгий деплой)
- Низкая надежность
- Плохая масштабируемость

Но во всем этом наборе утверждений было что-то, что смущало Виктора. И если с таким тезисом, как упрощенное внедрение технологий, Виктор был согласен, т.к. микросервисы действительно позволяют писать отдельные системы на других языках программирования или более современных версиях фреймворков, то с некоторыми другими, например, усложненным деплоем и замедлением разработки в монолитах, глядя на свой крупный проект, над которыми трудятся десятки команд, он не мог согласится.

Почему так ? Для ответа на этот вопрос стоит рассмотреть архитектуру монолитного приложения компании Dream Ride.

> [!WARNING]
>
> TODO: Добавить архитектурную схему модульного монолита

На этой схеме мы видим, что система компании Dream Ride представляет собой достаточно сложное приложение с множеством интеграций, которое состоит из нескольких отдельных deployment юнитов

- core-backend - система, реализующая все функциональные требования компании
- osrm-backend - система, реализующая логику роутинга и маршрутизации, построенная на основе open-source проекта [OSRM-Backend](https://github.com/Project-OSRM/osrm-backend)
- osrm-proxy - система, реализующая proxy сервис к `osrm-backend`, добавляющая такие возможности, как аутентификация, валидация и авторизация клиентов

Если говорить о монолите `core-backend`, то мы можем заметить, что Виктор, как и любой опытный архитектор, организовал очень хорошо структурированный монолит, который состоял из десятков независимых модулей.
